Change Log  http://phplens.com/adodb/change.log.html
---------- 


5.18 3 Sep 2012 	adodb518a.tgz adodb-518-for-php5 2012-09-06 
--------------

datadict-postgres: Fixes bug in ALTER COL. See http://phplens.com/lens/lensforum/msgs.php?id=19202. Also fixed bugs in MetaType() checking $fieldobj properties. 
GetRowAssoc did not work with null values. Bug in 5.17. 
postgres9: New driver to better support PostgreSQL 9. Thx Glenn Herteg and Cacti team. 
sqlite3: Modified to support php 5.4. Thx Günter Weber [built.development#googlemail.com] 
adodb: When fetch mode is ADODB_FETCH_ASSOC, and we execute $db->GetAssoc("select 'a','0'"); we get an error. Fixed. See http://phplens.com/lens/lensforum/msgs.php?id=19190 
adodb: Caching directory permissions now configurable using global variable $ADODB_CACHE_PERMS. Default value is 0771. 
mysqli: SetCharSet() did not return true (success) or false (fail) correctly. Fixed. 
mysqli: changed dataProvider to 'mysql' so that MetaError and other shared functions will work. 
mssqlnative: Prepare() did not work previously. Now calling Prepare() will work but the sql is not actually compiled. Unfortunately bind params are passed to sqlsrv_prepare and not to sqlsrv_execute. make Prepare() and empty function, and we still execute the unprepared stmt. 
mysql: FetchField(-1), turns it is is not possible to retrieve the max_length. Set to -1. 
mysql-perf: Fixed "SHOW INNODB STATUS". Change to "SHOW ENGINE INNODB STATUS


5.17 17 May 2012	 adodb517.tgz du 2012-05-17 adodb-517-for-php5
----------------

Active Record: Removed trailing whitespace from adodb-active-record.inc.php. 
odbc: Added support for $database parameter in odbc Connect() function. E.g. $DB->Connect($dsn_without_db, $user, $pwd, $database). Previously $database had to be left blank and the $dsn was used to pass in this parameter. 
oci8: Added better empty($rs) error handling to metaindexes(). 
oci8: Changed to use newer oci API to support PHP 5.4. 
adodb.inc.php: Changed GetRowAssoc to more generic code that will work in all scenarios.


5.16 26 March 2012   	adodb-516-for-php5	2012-03-26 
-------------------

mysqli: extra mysqli_next_result() in close() removed. See http://phplens.com/lens/lensforum/msgs.php?id=19100 
datadict-oci8: minor typo in create sequence trigger fixed. See http://phplens.com/lens/lensforum/msgs.php?id=18879. 
security: safe date parsing changes. Does not impact security, these are code optimisations. Thx Saithis. 
postgres, oci8, oci8po, db2oci: Param() function parameters inconsistent with base class. $type='C' missing. Fixed. 
active-record: locked bug fixed. http://phplens.com/lens/lensforum/msgs.php?phplens_forummsg=new&id=19073 
mysql, mysqli and informix: added MetaProcedures. Metaprocedures allows to retrieve an array list of all procedures in database. http://phplens.com/lens/lensforum/msgs.php?id=18414 
Postgres7: added support for serial data type in MetaColumns(). 


5.15 19 Jan 2012 
----------------

pdo: fix ErrorMsg() to detect errors correctly. Thx Jens. 
mssqlnative: added another check for $this->fields array exists. 
mssqlnative: bugs in FetchField() fixed. See http://phplens.com/lens/lensforum/msgs.php?id=19024 
DBDate and DBTimeStamp had sql injection bug. Fixed. Thx Saithis 
mysql and mysqli: MetaTables() now identifies views and tables correctly. 
Added function adodb_time() to adodb-time.inc.php. Generates current time in unsigned integer format. 


5.14 8 Sep 2011 
-------------------

mysqli: fix php compilation bug. 
postgres: bind variables did not work properly. Fixed. 
postgres: blob handling bug in _decode. Fixed. 
ActiveRecord: if a null field was never updated, activerecord would still update the record. Fixed. 
ActiveRecord: 1 char length string never quoted. Fixed. 
LDAP: Connection string ldap:// and ldaps:// did not work. Fixed. 


5.13 15 Aug 2011 
----------------

Postgres: Fix in 5.12 was wrong. Uses pg_unescape_bytea() correctly now in _decode. 
GetInsertSQL/GetUpdateSQL: Now $ADODB_QUOTE_FIELDNAMES allows you to define 'NATIVE', 'UPPER', 'LOWER'. If set to true, will default to 'UPPER'. 
mysqli: added support for persistent connections 'p:'. 
mssqlnative: ADODB_FETCH_BOTH did not work properly. Fixed. 
mssqlnative: return values for stored procedures where not returned! Fixed. See http://phplens.com/lens/lensforum/msgs.php?id=18919 
mssqlnative: timestamp and fetchfield bugs fixed. http ://phplens.com/lens/lensforum/msgs.php?id=18453 


5.12 30 June 2011 
-----------------

Postgres: Added information_schema support for postgresql. 
Postgres: Use pg_unescape_bytea() in _decode. 
Fix bulk binding with oci8. http://phplens.com/lens/lensforum/msgs.php?id=18786 
oci8 perf: added wait evt monitoring. Also db cache advice now handles multiple buffer pools properly. 
sessions2: Fixed setFetchMode problem. 
sqlite: Some DSN connection settings were not parsed correctly. 
mysqli: now GetOne obeys $ADODB_GETONE_EOF; 
memcache: compress option did not work. Fixed. See http://phplens.com/lens/lensforum/msgs.php?id=18899 


5.11 5 May 2010 
----------------

mysql: Fixed GetOne() to return null if no records returned. 
oci8 perf: added stats on sga, rman, memory usage, and flash in performance tab. 
odbtp: Now you can define password in $password field of Connect()/PConnect(), and it will add it to DSN. 
Datadict: altering columns did not consider the scale of the column. Now it does. 
mssql: Fixed problem with ADODB_CASE_ASSOC causing multiple versions of column name appearing in recordset fields. 
oci8: Added missing & to refLob. 
oci8: Added obj->scale to FetchField(). 
oci8: Now you can get column info of a table in a different schema, e.g. MetaColumns("schema.table") is supported. 
odbc_mssql: Fixed missing $metaDatabasesSQL. 
xmlschema: Changed declaration of create() to create($xmls) to fix compat problems. Also changed constructor adoSchema() to pass in variable instead of variable reference. 
ado5: Fixed ado5 exceptions to only display errors when $this->debug=true; 
Added DSN support to sessions2.inc.php. 
adodb-lib.inc.php. Fixed issue with _adodb_getcount() not using $secs2cache parameter. 
adodb active record. Fixed caching bug. See http://phplens.com/lens/lensforum/msgs.php?id=18288. 
db2: fixed ServerInfo(). 
adodb_date: Added support for format 'e' for TZ as in adodb_date('e') 
Active Record: If you have a field which is a string field (with numbers in) and you add preceding 0's to it the adodb library does not pick up the fact that the field has changed because of the way php's == works (dodgily). The end result is that it never gets updated into the database - fix by Matthew Forrester (MediaEquals). [matthew.forrester#mediaequals.com]
Fixes RowLock() and MetaIndexes() inconsistencies. See http://phplens.com/lens/lensforum/msgs.php?id=18236 
Active record support for postgrseql boolean. See http://phplens.com/lens/lensforum/msgs.php?id=18246 
By default, Execute 2D array is disabled for security reasons. Set $conn->bulkBind = true to enable. See http://phplens.com/lens/lensforum/msgs.php?id=18270. Note this breaks backward compat. 
MSSQL: fixes for 5.2 compat. http://phplens.com/lens/lensforum/msgs.php?id=18325 
Changed Version() to return a string instead of a float so it correctly returns 5.10 instead of 5.1. 


5.10 10 Nov 2009  dodb511.tgz du 2010-05-10 adodb-511-for-php5
----------------

Fixed memcache to properly support $rs->timeCreated. 

adodb-ado.inc.php: Added BigInt support for PHP5. Will return float instead to support large numbers. Thx nasb#mail.goo.ne.jp. 

adodb-mysqli.inc.php: mysqli_multi_query is now turned off by default. To turn it on, use $conn->multiQuery = true; This is because of the risks of sql injection. See http://phplens.com/lens/lensforum/msgs.php?id=18144 

New db2oci driver for db2 9.7 when using PL/SQL mode. Allows oracle style :0, :1, :2 bind parameters which are remapped to ? ? ?. 

adodb-db2.inc.php: fixed bugs in MetaTables. SYS owner field not checked properly. Also in $conn->Connect($dsn, null, null, $schema) and PConnect($dsn, null, null, $schema), we do a SET SCHEMA=$schema if successful connection. 

adodb-mysqli.inc.php: Now $rs->Close() closes all pending next resultsets. Thx Clifton mesmackgod#gmail.com 

Moved _CreateCache() from PConnect()/Connect() to CacheExecute(). Suggested by Dumka. 

Many bug fixes to adodb-pdo_sqlite.inc.php and new datadict-sqlite.inc.php. Thx Andrei B. [andreutz#mymail.ro] 

Removed usage of split (deprecated in php 5.3). Thx david#horizon-nigh.org. 

Fixed RowLock() parameters to comply with PHP5 strict mode in multiple drivers. 



5.09 25 June 2009  adodb510
----------------

Active Record: You can force column names to be quoted in INSERT and UPDATE statements, typically because you are using reserved words as column names by setting ADODB_Active_Record::$_quoteNames = true; 

Added memcache and cachesecs to DSN. e.g. 
	# we have a memcache servers mem1,mem2 on port 8888, compression=off and cachesecs=120
	$dsn = 'mysql://user:pwd@localhost/mydb?memcache=mem1,mem2:8888:0&cachesecs=120';

Fixed up MetaColumns and MetaPrimaryIndexes() for php 5.3 compat. Thx http://adodb.pastebin.com/m52082b16 

The postgresql driver's OffsetDate() apparently does not work with postgres 8.3. Fixed. 

Added support for magic_quotes_sybase in qstr() and addq(). Thanks Eloy and Sam Moffat. 

The oci8 driver did not handle LOBs properly when binding. Fixed. See http://phplens.com/lens/lensforum/msgs.php?id=17991. 

Datadict: In order to support TIMESTAMP with subsecond accuracy, added to datadict the new TS type. Supported by mssql, postgresql and oci8 (oracle). Also changed oci8 $conn->sysTimeStamp to use 'SYSTIMESTAMP' instead of 'SYSDATE'. Should be backwards compat. 

Added support for PHP 5.1+ DateTime objects in DBDate and DBTimeStamp. This means that dates and timestamps will be managed by DateTime objects if you are running PHP 5.1+. 

Added new property to postgres64 driver to support returning I if type is unique int called $db->uniqueIisR, defaulting to true. See http://phplens.com/lens/lensforum/msgs.php?id=17963 

Added support for bindarray in adodb_GetActiveRecordsClass with SelectLimit in adodb-active-record.inc.php. 

Transactions now allowed in ado_access driver. Thx to petar.petrov.georgiev#gmail.com. 

Sessions2 garbage collection is now much more robust. We perform ORDER BY to prevent deadlock in adodb-sessions2.inc.php. 

Fixed typo in pdo_sqlite driver.
